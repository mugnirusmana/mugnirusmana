{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import{ATTENDER}from\"../services\";const initialState={data:{},isLoading:false,isError:false,isSuccess:false,errorMessage:null,errorCode:null};export const reservationSlice=createSlice({name:\"reservation\",initialState,reducers:{defaultReservationSlice:state=>{state.isLoading=false;state.isSuccess=false;state.isError=false;state.errorMessage=null;state.errorCode=null;},getReservationSlice:state=>{state.isLoading=true;state.isSuccess=false;state.isError=false;state.errorMessage=null;state.errorCode=null;},getReservationSuccessSlice:(state,action)=>{state.isLoading=false;state.isSuccess=true;state.isError=false;state.errorMessage=null;state.errorCode=null;state.data=action===null||action===void 0?void 0:action.payload;},getReservationFailedSlice:(state,action)=>{var _action$payload,_action$payload2,_action$payload3;state.isLoading=false;state.isSuccess=false;state.isError=true;state.errorMessage=action===null||action===void 0?void 0:(_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.message;state.errorCode=action===null||action===void 0?void 0:(_action$payload2=action.payload)===null||_action$payload2===void 0?void 0:_action$payload2.code;state.data=action===null||action===void 0?void 0:(_action$payload3=action.payload)===null||_action$payload3===void 0?void 0:_action$payload3.data;}}});export const{defaultReservationSlice,getReservationSlice,getReservationSuccessSlice,getReservationFailedSlice}=reservationSlice.actions;export const defaultReservation=()=>{return async(dispatch,getState)=>{dispatch(defaultReservationSlice());};};export const submitReservation=params=>{return async(dispatch,getState)=>{var _getState,_getState$auth;dispatch(getReservationSlice());const token=(_getState=getState())===null||_getState===void 0?void 0:(_getState$auth=_getState.auth)===null||_getState$auth===void 0?void 0:_getState$auth.token;return ATTENDER.submitReservation(params,token).then(response=>{var _response$data,_response$data$meta;if(response!==null&&response!==void 0&&(_response$data=response.data)!==null&&_response$data!==void 0&&(_response$data$meta=_response$data.meta)!==null&&_response$data$meta!==void 0&&_response$data$meta.is_success){var _response$data2;dispatch(getReservationSuccessSlice(response===null||response===void 0?void 0:(_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.data));}else{var _response$data$meta$m,_response$data3,_response$data3$meta,_response$data$meta$s,_response$data4,_response$data4$meta,_response$data$data,_response$data5;const data={message:(_response$data$meta$m=response===null||response===void 0?void 0:(_response$data3=response.data)===null||_response$data3===void 0?void 0:(_response$data3$meta=_response$data3.meta)===null||_response$data3$meta===void 0?void 0:_response$data3$meta.message)!==null&&_response$data$meta$m!==void 0?_response$data$meta$m:'Oops! Someting went wrong',code:(_response$data$meta$s=response===null||response===void 0?void 0:(_response$data4=response.data)===null||_response$data4===void 0?void 0:(_response$data4$meta=_response$data4.meta)===null||_response$data4$meta===void 0?void 0:_response$data4$meta.status)!==null&&_response$data$meta$s!==void 0?_response$data$meta$s:500,data:(_response$data$data=response===null||response===void 0?void 0:(_response$data5=response.data)===null||_response$data5===void 0?void 0:_response$data5.data)!==null&&_response$data$data!==void 0?_response$data$data:{}};dispatch(getReservationFailedSlice(data));}}).catch(error=>{var _error$response$data$,_error$response,_error$response$data,_error$response$data$2,_error$response$data$3,_error$response2,_error$response2$data,_error$response2$data2,_error$response$data$4,_error$response3,_error$response3$data;const data={message:(_error$response$data$=error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:(_error$response$data$2=_error$response$data.meta)===null||_error$response$data$2===void 0?void 0:_error$response$data$2.message)!==null&&_error$response$data$!==void 0?_error$response$data$:'Oops! Someting went wrong',code:(_error$response$data$3=error===null||error===void 0?void 0:(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:(_error$response2$data2=_error$response2$data.meta)===null||_error$response2$data2===void 0?void 0:_error$response2$data2.status)!==null&&_error$response$data$3!==void 0?_error$response$data$3:500,data:(_error$response$data$4=error===null||error===void 0?void 0:(_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.data)!==null&&_error$response$data$4!==void 0?_error$response$data$4:{}};dispatch(getReservationFailedSlice(data));});};};export default reservationSlice.reducer;","map":{"version":3,"names":["createSlice","ATTENDER","initialState","data","isLoading","isError","isSuccess","errorMessage","errorCode","reservationSlice","name","reducers","defaultReservationSlice","state","getReservationSlice","getReservationSuccessSlice","action","payload","getReservationFailedSlice","_action$payload","_action$payload2","_action$payload3","message","code","actions","defaultReservation","dispatch","getState","submitReservation","params","_getState","_getState$auth","token","auth","then","response","_response$data","_response$data$meta","meta","is_success","_response$data2","_response$data$meta$m","_response$data3","_response$data3$meta","_response$data$meta$s","_response$data4","_response$data4$meta","_response$data$data","_response$data5","status","catch","error","_error$response$data$","_error$response","_error$response$data","_error$response$data$2","_error$response$data$3","_error$response2","_error$response2$data","_error$response2$data2","_error$response$data$4","_error$response3","_error$response3$data","reducer"],"sources":["/var/www/html/fe/src/redux/reservationSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { ATTENDER } from \"../services\";\n\nconst initialState = {\n  data: {},\n  isLoading: false,\n  isError: false,\n  isSuccess: false,\n  errorMessage: null,\n  errorCode: null,\n};\n\nexport const reservationSlice = createSlice({\n  name: \"reservation\",\n  initialState,\n  reducers: {\n    defaultReservationSlice: (state) => {\n      state.isLoading = false;\n      state.isSuccess = false;\n      state.isError = false;\n      state.errorMessage = null;\n      state.errorCode = null;\n    },\n    getReservationSlice: (state) => {\n      state.isLoading = true;\n      state.isSuccess = false;\n      state.isError = false;\n      state.errorMessage = null;\n      state.errorCode = null;\n    },\n    getReservationSuccessSlice: (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.isError = false;\n      state.errorMessage = null;\n      state.errorCode = null;\n      state.data = action?.payload;\n    },\n    getReservationFailedSlice: (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = false;\n      state.isError = true;\n      state.errorMessage = action?.payload?.message;\n      state.errorCode = action?.payload?.code;\n      state.data = action?.payload?.data;\n    },\n  },\n});\n\nexport const { defaultReservationSlice, getReservationSlice, getReservationSuccessSlice, getReservationFailedSlice } = reservationSlice.actions;\n\nexport const defaultReservation = () => {\n  return async (dispatch, getState) => {\n    dispatch(defaultReservationSlice());\n  };\n}\n\nexport const submitReservation = (params) => {\n  return async (dispatch, getState) => {\n    dispatch(getReservationSlice());\n    const token = getState()?.auth?.token;\n    return ATTENDER.submitReservation(params, token)\n      .then((response) => {\n        if (response?.data?.meta?.is_success) {\n          dispatch(getReservationSuccessSlice(response?.data?.data));\n        } else {\n          const data = {\n            message: response?.data?.meta?.message??'Oops! Someting went wrong',\n            code: response?.data?.meta?.status??500,\n            data: response?.data?.data??{},\n          }\n          dispatch(getReservationFailedSlice(data));\n        }\n      })\n      .catch((error) => {\n        const data = {\n          message: error?.response?.data?.meta?.message??'Oops! Someting went wrong',\n          code: error?.response?.data?.meta?.status??500,\n          data: error?.response?.data?.data??{},\n        }\n        dispatch(getReservationFailedSlice(data));\n      })\n  };\n}\n\nexport default reservationSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}